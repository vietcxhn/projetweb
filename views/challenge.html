{{> header}}

{{> autocomplete}}
  <div class="row row-cols-1 row-cols-md-2">
    <div class="col pb-4">
      <!--Make sure the form has the autocomplete function switched off:-->
      <form class="d-flex" autocomplete="off" method="post" action="/challenge">
        <div class="autocomplete" style="width:300px;">
          <input class="form-control me-2" id="myInput" type="text" name="username" placeholder="Nom d'utilisateur">
        </div>
        <button class="btn btn-outline-success" type="submit">Défi</button>
      </form>
    </div>
    <div class="col">
      <p>
        Défi d'un autre utilisateur:
      </p>
      <ul>
        {{#challenged_list}}
        <li>
          {{challenger_name}}: {{challenger_score}} <a href="/accept_challenge/{{id_match}}">Jouer</a>
        </li>
        {{/challenged_list}}
        {{^challenged_list}}
        <li>Pas de défi</li>
        {{/challenged_list}}
      </ul>
      <p>
        Votre défi:
      </p>
      <ul>
        {{#challenge_list}}
        <li>
          {{challenged_name}}: {{challenged_score}} <a href="/restart_challenge/{{id_match}}">Recommence</a>
        </li>
        {{/challenge_list}}
        {{^challenge_list}}
        <li>Pas de défi</li>
        {{/challenge_list}}
      </ul>
    </div>
  </div>
  <script>
    autocomplete(document.getElementById("myInput"), [{{#users}}"{{name}}",{{/users}}]);
  </script>

{{> footer}}